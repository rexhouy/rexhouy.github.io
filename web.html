<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>web</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="title" content="web"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2015-01-05T13:23+0800"/>
<meta name="author" content="Rex.Houy"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<link rel="stylesheet" type="text/css" href="org-style.css" media="only screen and (min-device-width: 480px)" /><link rel="stylesheet" type="text/css" href="org-style-phone.css" media="only screen and (max-device-width: 480px)" />


</head>
<body>

<div id="preamble">

</div>

<div id="content">
<h1 class="title">web</h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 监听器</a></li>
<li><a href="#sec-2">2 JSTL</a></li>
<li><a href="#sec-3">3 一些常用的meta设定：</a></li>
<li><a href="#sec-4">4 HTML标签</a></li>
<li><a href="#sec-5">5 注意事项</a></li>
<li><a href="#sec-6">6 http</a></li>
<li><a href="#sec-7">7 other</a></li>
<li><a href="#sec-8">8 Google web development fundamental</a>
<ul>
<li><a href="#sec-8-1">8.1 Responsive web design</a>
<ul>
<li><a href="#sec-8-1-1">8.1.1 Set viewport</a></li>
<li><a href="#sec-8-1-2">8.1.2 Attention</a></li>
<li><a href="#sec-8-1-3">8.1.3 Media query</a></li>
</ul>
</li>
<li><a href="#sec-8-2">8.2 Forms</a>
<ul>
<li><a href="#sec-8-2-1">8.2.1 Input</a></li>
<li><a href="#sec-8-2-2">8.2.2 Validation</a></li>
</ul>
</li>
<li><a href="#sec-8-3">8.3 Images</a>
<ul>
<li><a href="#sec-8-3-1">8.3.1 Img</a></li>
<li><a href="#sec-8-3-2">8.3.2 Video</a></li>
</ul>
</li>
<li><a href="#sec-8-4">8.4 Performance</a>
<ul>
<li><a href="#sec-8-4-1">8.4.1 Render page</a></li>
<li><a href="#sec-8-4-2">8.4.2 Critical path</a></li>
<li><a href="#sec-8-4-3">8.4.3 Todos to gain performance</a></li>
<li><a href="#sec-8-4-4">8.4.4 Event</a></li>
</ul>
</li>
<li><a href="#sec-8-5">8.5 Caching</a>
<ul>
<li><a href="#sec-8-5-1">8.5.1 ETags</a></li>
<li><a href="#sec-8-5-2">8.5.2 Cache-Control</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 监听器</h2>
<div class="outline-text-2" id="text-1">

<p>1．ServletContextListener：用于监听WEB 应用启动和销毁的事件，监听器类需要实现javax.servlet.ServletContextListener 接口。
</p>
<p>
2．ServletContextAttributeListener：用于监听WEB应用属性改变的事件，包括：增加属性、删除属性、修改属性，监听器类需要实现javax.servlet.ServletContextAttributeListener接口。
</p>
<p>
3．HttpSessionListener：用于监听Session对象的创建和销毁，监听器类需要实现javax.servlet.http.HttpSessionListener接口或者javax.servlet.http.HttpSessionActivationListener接口，或者两个都实现。
</p>
<p>
4．HttpSessionActivationListener：用于监听Session对象的钝化/活化事件，监听器类需要实现javax.servlet.http.HttpSessionListener接口或者javax.servlet.http.HttpSessionActivationListener接口，或者两个都实现。
</p>
<p>
5．HttpSessionAttributeListener：用于监听Session对象属性的改变事件，监听器类需要实现javax.servlet.http.HttpSessionAttributeListener接口。
</p>
<p>
6．监听器的部署在web.xml文件中配置，在配置文件中，它的位置应该在过滤器的后面Servlet的前面.
</p>

</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> JSTL</h2>
<div class="outline-text-2" id="text-2">




<pre class="src src-jsp">&lt;%@ taglib prefix=<span style="color: #2aa198;">"fn"</span> uri=<span style="color: #2aa198;">"http://java.sun.com/jsp/jstl/functions"</span> %&gt;
</pre>

<p>
下面是JSTL中自带的方法列表以及其描述:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">函数名</th><th scope="col" class="left">函数说明</th><th scope="col" class="left">使用举例</th></tr>
</thead>
<tbody>
<tr><td class="left">fn:contains</td><td class="left">判断字符串是否包含另外一个字符串</td><td class="left">&lt;c:if test="${fn:contains(name, searchString)}"&gt;</td></tr>
<tr><td class="left">fn:containsIgnoreCase</td><td class="left">判断字符串是否包含另外一个字符串(大小写无关)</td><td class="left">&lt;c:if test="${fn:containsIgnoreCase(name, searchString)}"&gt;</td></tr>
<tr><td class="left">fn:endsWith</td><td class="left">判断字符串是否以另外字符串结束</td><td class="left">&lt;c:if test="${fn:endsWith(filename, ".txt")}"&gt;</td></tr>
<tr><td class="left">fn:escapeXml</td><td class="left">把一些字符转成XML表示，例如 &lt;字符应该转为&amp;lt;</td><td class="left">${fn:escapeXml(param:info)}</td></tr>
<tr><td class="left">fn:indexOf</td><td class="left">子字符串在母字符串中出现的位置</td><td class="left">${fn:indexOf(name, "-")}</td></tr>
<tr><td class="left">fn:join</td><td class="left">将数组中的数据联合成一个新字符串，并使用指定字符格开</td><td class="left">${fn:join(array, ";")}</td></tr>
<tr><td class="left">fn:length</td><td class="left">获取字符串的长度，或者数组的大小</td><td class="left">${fn:length(shoppingCart.products)}</td></tr>
<tr><td class="left">fn:replace</td><td class="left">替换字符串中指定的字符</td><td class="left">${fn:replace(text, "-", "&amp;#149;")}</td></tr>
<tr><td class="left">fn:split</td><td class="left">把字符串按照指定字符切分</td><td class="left">${fn:split(customerNames, ";")}</td></tr>
<tr><td class="left">fn:startsWith</td><td class="left">判断字符串是否以某个子串开始</td><td class="left">&lt;c:if test="${fn:startsWith(product.id, "100-")}"&gt;</td></tr>
<tr><td class="left">fn:substring</td><td class="left">获取子串</td><td class="left">${fn:substring(zip, 6, -1)}</td></tr>
<tr><td class="left">fn:substringAfter</td><td class="left">获取从某个字符所在位置开始的子串</td><td class="left">${fn:substringAfter(zip, "-")}</td></tr>
<tr><td class="left">fn:substringBefore</td><td class="left">获取从开始到某个字符所在位置的子串</td><td class="left">${fn:substringBefore(zip, "-")}</td></tr>
<tr><td class="left">fn:toLowerCase</td><td class="left">转为小写</td><td class="left">${fn.toLowerCase(product.name)}</td></tr>
<tr><td class="left">fn:toUpperCase</td><td class="left">转为大写字符</td><td class="left">${fn.UpperCase(product.name)}</td></tr>
<tr><td class="left">fn:trim</td><td class="left">去除字符串前后的空格</td><td class="left">${fn.trim(name)}</td></tr>
</tbody>
</table>



</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 一些常用的meta设定：</h2>
<div class="outline-text-2" id="text-3">


<p>
向搜索引擎说明你的网页的关键词；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"KEYWords"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">""</span>&gt;
</pre>


<p>
告诉搜索引擎你的站点的主要内容；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"DEscription"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">""</span>&gt;
</pre>


<p>
告诉搜索引擎你的站点的制作的作者；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"Author"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">"&#20320;&#30340;&#22995;&#21517;"</span>&gt;
</pre>


<p>
设定搜索引擎规则：
</p>
<p>
　　其中的属性说明如下：
</p>
<p>
　　设定为all：文件将被检索，且页面上的链接可以被查询；
</p>
<p>
　　设定为none：文件将不被检索，且页面上的链接不可以被查询；
</p>
<p>
　　设定为index：文件将被检索；
</p>
<p>
　　设定为follow：页面上的链接可以被查询；
</p>
<p>
　　设定为noindex：文件将不被检索，但页面上的链接可以被查询；
</p>
<p>
　　设定为nofollow：文件将不被检索，页面上的链接可以被查询。
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"Robots"</span> contect= <span style="color: #2aa198;">"all|none|index|noindex|follow|nofollow"</span>&gt;
</pre>


<p>
用以说明主页制作所使用的文字以及语言
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">http-equiv</span>=<span style="color: #2aa198;">"Content-Type"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">"text/html"</span>;charset=gb_2312-80<span style="color: #2aa198;">"&gt;</span>
<span style="color: #2aa198;">&lt;meta http-equiv="</span>Content-Language<span style="color: #2aa198;">" contect="</span>zh-CN<span style="color: #2aa198;">"&gt;</span>
</pre>


<p>
定时让网页在指定的时间n内，跳转到页面<a href="http://yourlink">http://yourlink</a>；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">http-equiv</span>=<span style="color: #2aa198;">"Refresh"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">"n;url=http://yourlink"</span>&gt;
</pre>


<p>
可以用于设定网页的到期时间，一旦过期则必须到服务器上重新调用。需要注意的是必须使用GMT时间格式；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">http-equiv</span>=<span style="color: #2aa198;">"Expires"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">"Mon,12 May 2001 00:20:00 GMT"</span>&gt;
</pre>


<p>
用于设定禁止浏览器从本地机的缓存中调阅页面内容，设定后一旦离开网页就无法从Cache中再调出；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">http-equiv</span>=<span style="color: #2aa198;">"Pragma"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">"no-cache"</span>&gt;
</pre>


<p>
cookie设定，如果网页过期，存盘的cookie将被删除。需要注意的也是必须使用GMT时间格式；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">http-equiv</span>=<span style="color: #2aa198;">"set-cookie"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">"Mon,12 May 2001 00:20:00 GMT"</span>&gt;
</pre>


<p>
网页等级评定，在IE的internet选项中有一项内容设置，可以防止浏览一些受限制的网站，而网站的限制级别就是通过meta属性来设置的；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">http-equiv</span>=<span style="color: #2aa198;">"Pics-label"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">""</span>&gt;
</pre>


<p>
强制页面在当前窗口中以独立页面显示，可以防止自己的网页被别人当作一个frame页调用；
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">http-equiv</span>=<span style="color: #2aa198;">"windows-Target"</span> <span style="color: #6c71c4;">contect</span>=<span style="color: #2aa198;">"_top"</span>&gt;
</pre>



</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> HTML标签</h2>
<div class="outline-text-2" id="text-4">




<pre class="src src-html">&lt;<span style="color: #b58900;">cite</span>&gt;<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">&#24341;&#29992; </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">blockquote</span>&gt;<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">&#25991;&#23383;&#35828;&#26126;&#27573;&#33853; </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">optgroup</span>&gt;<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">&#19979;&#25289;&#26694;&#20998;&#32452; </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">acronym</span>&gt;<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">&#29992;&#20110;&#23450;&#20041;&#25110;&#35299;&#37322;&#19968;&#32452;&#25991;&#23383;&#65292;&#38656;&#35201;&#20351;&#29992;title&#23646;&#24615;&#20316;&#20026;&#35299;&#37322;&#20869;&#23481; </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">address</span>&gt;<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">&#26174;&#31034;&#22320;&#22336; </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">ins</span>&gt;<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">&#21152;&#19979;&#21010;&#32447;&#65292;&#29992;&#20110;&#26356;&#25913;&#25991;&#26723;&#26102;&#26174;&#31034; </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">del</span>&gt;<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">&#21024;&#38500;&#65292;&#29992;&#20110;&#26356;&#25913;&#25991;&#26723;&#26102;&#26174;&#31034; </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">abbr</span> <span style="color: #6c71c4;">title</span>=<span style="color: #2aa198;">"xx"</span>&gt;X&lt;/<span style="color: #b58900;">abbr</span>&gt;<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">&#29992;&#20110;&#32553;&#20889; </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
</pre>


<p>
<a href="http://dochost/Record/html5.html">HTML5 EXAMPLE</a>
</p>

</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> 注意事项</h2>
<div class="outline-text-2" id="text-5">


<ol>
<li>可以对web服务器如apache http server进行配置，使其将脚本和css使用gzip进行压缩后传输。apache进行这一处理的模块为mod<sub>deflate。不需要压缩pdf和图片，这些东西已经是压缩过的。</sub>

</li>
<li>css一定要放在head中，页面中的元素的加载顺序是按照在页面中的顺序进行的，如果将css放到页面的末尾，ie将等到所有的css加载完毕后才会进行显示，这时候的页面就不是逐步呈现的，影响用户体验，对于firefox，虽然是逐步呈现的但是css加载后会导致页面内容闪烁同样影响用户体验。

</li>
<li>脚本要放在页面尾部，因为浏览器可以进行并行的加载多个组件，但是对于脚本则不会，原因是脚本中可能会使用document.write来改变页面内容，另外还需要保证脚本按顺序执行。所以脚本的下载会阻塞其他的下载。

</li>
<li>jsp公共引用部分使用&lt;%@ include file="" %&gt;引入以避免更换jar包时各种地方都需要更改。
</li>
</ol>



</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> http</h2>
<div class="outline-text-2" id="text-6">

<p>eTag-用于对文件或网页等进行标识（使用范围可以很广，并没有具体限制），可以是一个版本号。由服务器端生成，客户端在请求的时候将其发送到服务器端，服务器端更具该号码判断是否返回304（网页内容未发生变化）。
</p>

</div>

</div>

<div id="outline-container-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> other</h2>
<div class="outline-text-2" id="text-7">


<p>
Listener继承spring的ContextLoaderListener类，在public void contextInitialized(ServletContextEvent sce)方法中调用super.contextInitialized(sce);可以使得spring对web.xml中的所有对象进行初始化，这可以保证监听器按照在web.xml中声明的顺序进行初始化。
</p>

<p>
在filter中使用request.setCharacterEncoding("UTF-8");设置request的编码方式。
</p>
<p>
使用URLDecoder.decode(path, "utf-8")对url进行解码，同样也可以使用URLEncoder.encode()进行编码，详见WebTest（进行encode操作的原因在于数字、字母之外的符号被认为是不安全的需要进行转码例如搜索引擎中进行搜索时会将关键词进行编码）
</p>

</div>

</div>

<div id="outline-container-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Google web development fundamental</h2>
<div class="outline-text-2" id="text-8">



</div>

<div id="outline-container-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> Responsive web design</h3>
<div class="outline-text-3" id="text-8-1">


</div>

<div id="outline-container-8-1-1" class="outline-4">
<h4 id="sec-8-1-1"><span class="section-number-4">8.1.1</span> Set viewport</h4>
<div class="outline-text-4" id="text-8-1-1">




<pre class="src src-html"><span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">width=device-width: to match the width in device independent pixel. </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">initial-scale=1.0: to establish a 1:1 relationship between pixel and device independent pixel. </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">meta</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"viewport"</span> <span style="color: #6c71c4;">content</span>=<span style="color: #2aa198;">"width=device-width, initial-scale=1.0"</span>&gt;
</pre>


<p>
Besides initial-scale, minimum-scale, maximum-scale and user-scalable can be used to disable user's ability to zoom the page.
</p>
</div>

</div>

<div id="outline-container-8-1-2" class="outline-4">
<h4 id="sec-8-1-2"><span class="section-number-4">8.1.2</span> Attention</h4>
<div class="outline-text-4" id="text-8-1-2">

<p>Do not use large fixed width elements.
</p>
<p>
Beware of absolute positioning elements.
</p>
<p>
An ideal column should contain 70 to 80 characters per line (about 8 to 10 words in English).
</p>
<p>
An suggest english font (Roboto Condensed).
</p>
</div>

</div>

<div id="outline-container-8-1-3" class="outline-4">
<h4 id="sec-8-1-3"><span class="section-number-4">8.1.3</span> Media query</h4>
<div class="outline-text-4" id="text-8-1-3">




<pre class="src src-html"><span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">used for print </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"print.css"</span> <span style="color: #6c71c4;">media</span>=<span style="color: #2aa198;">"print"</span>&gt;

</pre>



<pre class="src src-css"><span style="color: #b58900;">&lt;!-- other ways to specify css only for print --&gt;</span>
<span style="color: #6c71c4;">@media</span><span style="color: #b58900;"> print </span>{
        <span style="color: #93a1a1; font-style: italic;">/* </span><span style="color: #93a1a1; font-style: italic;">print style sheets go here </span><span style="color: #93a1a1; font-style: italic;">*/</span>
}
<span style="color: #6c71c4;">@import</span> url(print.css) print;
</pre>




<pre class="src src-html"><span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">for device width smaller than 640px </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span> <span style="color: #6c71c4;">media</span>=<span style="color: #2aa198;">"(max-width: 640px)"</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"max-640px.css"</span>&gt;
<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">for device width larger than 640px </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span> <span style="color: #6c71c4;">media</span>=<span style="color: #2aa198;">"(min-width: 640px)"</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"min-640px.css"</span>&gt;
<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">for device width larger than height </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span> <span style="color: #6c71c4;">media</span>=<span style="color: #2aa198;">"(orientation: portrait)"</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"portrait.css"</span>&gt;
<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">for device width smaller than height </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span> <span style="color: #6c71c4;">media</span>=<span style="color: #2aa198;">"(orientation: landscape)"</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"landscape.css"</span>&gt;
&lt;<span style="color: #b58900;">style</span>&gt;
                        @media (min-width: 500px) and (max-width: 600px) {
                                h1 {
                                        color: <span style="color: #ffffff; background-color: #FF00FF;">fuchsia</span>;
                                }
                        }
&lt;/<span style="color: #b58900;">style</span>&gt;
</pre>



</div>
</div>

</div>

<div id="outline-container-8-2" class="outline-3">
<h3 id="sec-8-2"><span class="section-number-3">8.2</span> Forms</h3>
<div class="outline-text-3" id="text-8-2">


</div>

<div id="outline-container-8-2-1" class="outline-4">
<h4 id="sec-8-2-1"><span class="section-number-4">8.2.1</span> Input</h4>
<div class="outline-text-4" id="text-8-2-1">

<ul>
<li id="sec-8-2-1-1">Types<br/>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" />
</colgroup>
<tbody>
<tr><td class="left">Type</td><td class="left">Keyboard</td></tr>
<tr><td class="left">url</td><td class="left">URL</td></tr>
<tr><td class="left">tel</td><td class="left">telephone</td></tr>
<tr><td class="left">email</td><td class="left">email</td></tr>
<tr><td class="left">search</td><td class="left"></td></tr>
<tr><td class="left">number</td><td class="left"></td></tr>
<tr><td class="left">range</td><td class="left">range scroll bar</td></tr>
<tr><td class="left">datetime-local</td><td class="left"></td></tr>
<tr><td class="left">date</td><td class="left"></td></tr>
<tr><td class="left">time</td><td class="left"></td></tr>
<tr><td class="left">week</td><td class="left"></td></tr>
<tr><td class="left">month</td><td class="left"></td></tr>
<tr><td class="left">color</td><td class="left"></td></tr>
</tbody>
</table>



</li>
</ul>
<ul>
<li id="sec-8-2-1-2">Offer suggestions by using datalist<br/>



<pre class="src src-html">&lt;<span style="color: #b58900;">label</span> <span style="color: #6c71c4;">for</span>=<span style="color: #2aa198;">"frmFavChocolate"</span>&gt;Favorite Type of <span style="color: #ffffff; background-color: #D2691E;">Chocolate</span>&lt;/<span style="color: #b58900;">label</span>&gt;
&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"text"</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"fav-choc"</span> <span style="color: #6c71c4;">id</span>=<span style="color: #2aa198;">"frmFavChocolate"</span> <span style="color: #6c71c4;">list</span>=<span style="color: #2aa198;">"chocType"</span>&gt;
&lt;<span style="color: #b58900;">datalist</span> <span style="color: #6c71c4;">id</span>=<span style="color: #2aa198;">"chocType"</span>&gt;
        &lt;<span style="color: #b58900;">option</span> <span style="color: #6c71c4;">value</span>=<span style="color: #2aa198;">"</span><span style="color: #000000; background-color: #FFFFFF;">white</span><span style="color: #2aa198;">"</span>&gt;
        &lt;<span style="color: #b58900;">option</span> <span style="color: #6c71c4;">value</span>=<span style="color: #2aa198;">"milk"</span>&gt;
        &lt;<span style="color: #b58900;">option</span> <span style="color: #6c71c4;">value</span>=<span style="color: #2aa198;">"dark"</span>&gt;
&lt;/<span style="color: #b58900;">datalist</span>&gt;
</pre>



</li>
</ul>
<ul>
<li id="sec-8-2-1-3">Use placeholder to provide a hint to the user about how to fill in the input.<br/>
The placeholder should not be considered a label.



<pre class="src src-html">&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"text"</span> <span style="color: #6c71c4;">placeholder</span>=<span style="color: #2aa198;">"MM-YYYY"</span> ...&gt;
</pre>



</li>
</ul>
<ul>
<li id="sec-8-2-1-4">Use metadata to enable auto-complete<br/>

<p>
Let the pc/phone help fill the input.
</p>



<pre class="src src-html">&lt;<span style="color: #b58900;">label</span> <span style="color: #6c71c4;">for</span>=<span style="color: #2aa198;">"frmNameA"</span>&gt;Name&lt;/<span style="color: #b58900;">label</span>&gt;
&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"text"</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"name"</span> <span style="color: #6c71c4;">id</span>=<span style="color: #2aa198;">"frmName"</span> <span style="color: #6c71c4;">placeholder</span>=<span style="color: #2aa198;">"Full name"</span> required <span style="color: #6c71c4;">autocomplete</span>=<span style="color: #2aa198;">"name"</span>&gt;

&lt;<span style="color: #b58900;">label</span> <span style="color: #6c71c4;">for</span>=<span style="color: #2aa198;">"frmEmailA"</span>&gt;Email&lt;/<span style="color: #b58900;">label</span>&gt;
&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"email"</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"email"</span> <span style="color: #6c71c4;">id</span>=<span style="color: #2aa198;">"frmEmailA"</span> <span style="color: #6c71c4;">placeholder</span>=<span style="color: #2aa198;">"name@example.com"</span> required <span style="color: #6c71c4;">autocomplete</span>=<span style="color: #2aa198;">"email"</span>&gt;

&lt;<span style="color: #b58900;">label</span> <span style="color: #6c71c4;">for</span>=<span style="color: #2aa198;">"frmAddressA"</span>&gt;Address&lt;/<span style="color: #b58900;">label</span>&gt;
&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"text"</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"address"</span> <span style="color: #6c71c4;">id</span>=<span style="color: #2aa198;">"frmAddressA"</span> required <span style="color: #6c71c4;">autocomplete</span>=<span style="color: #2aa198;">"shipping street-address"</span>&gt; <span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">available: street-address locality region postal-code country </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>

&lt;<span style="color: #b58900;">label</span> <span style="color: #6c71c4;">for</span>=<span style="color: #2aa198;">"frmPhoneNumA"</span>&gt;Phone&lt;/<span style="color: #b58900;">label</span>&gt;
&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"tel"</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"phone"</span> <span style="color: #6c71c4;">id</span>=<span style="color: #2aa198;">"frmPhoneNumA"</span> <span style="color: #6c71c4;">placeholder</span>=<span style="color: #2aa198;">"+1-555-555-1212"</span> required <span style="color: #6c71c4;">autocomplete</span>=<span style="color: #2aa198;">"tel"</span>&gt;
</pre>



</li>
</ul>
</div>

</div>

<div id="outline-container-8-2-2" class="outline-4">
<h4 id="sec-8-2-2"><span class="section-number-4">8.2.2</span> Validation</h4>
<div class="outline-text-4" id="text-8-2-2">


<ul>
<li id="sec-8-2-2-1">Set attribute to enable realtime validation<br/>



<pre class="src src-html">&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"text"</span> <span style="color: #6c71c4;">pattern</span>=<span style="color: #2aa198;">"^\d{5,6}(?:[-\s]\d{4})?$"</span> ...&gt;
</pre>


<p>
Useful regular expressions
</p><table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" />
</colgroup>
<tbody>
<tr><td class="left">Description</td><td class="left">Regular expression</td></tr>
<tr><td class="left">Postal address</td><td class="left">[a-zA-Z\d\s&shy;\,\#\.\+]+</td></tr>
<tr><td class="left">IP Address</td><td class="left"><sup>(?:(?:25[0-5]\vert2[0-4][0-9]&#124;[01]?[0-9][0-9]?)\.)</sup>{3}(?:25[0-5] \vert2[0-4][0-9] &#124;[01]?[0-9][0-9]?)$</td></tr>
</tbody>
</table>


<p>
Other validation attributes
</p>


<pre class="src src-html">&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"number"</span> <span style="color: #6c71c4;">min</span>=<span style="color: #2aa198;">"1"</span> <span style="color: #6c71c4;">max</span>=<span style="color: #2aa198;">"13"</span> <span style="color: #6c71c4;">step</span>=<span style="color: #2aa198;">"0.5"</span> ...&gt;
&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"text"</span> <span style="color: #6c71c4;">id</span>=<span style="color: #2aa198;">"83filename"</span> <span style="color: #6c71c4;">maxlength</span>=<span style="color: #2aa198;">"12"</span> ...&gt;
</pre>


</li>
</ul>
<ul>
<li id="sec-8-2-2-2">Use <a href="http://dev.w3.org/html5/spec-preview/constraints.html#constraint-validation">Constrains Validation API</a><br/>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" />
</colgroup>
<tbody>
<tr><td class="left">API</td><td class="left">Description</td></tr>
<tr><td class="left">setCustomValidity()</td><td class="left">Sets a custom validation message and the customError property of the ValidityState object to true.</td></tr>
<tr><td class="left">validationMessage</td><td class="left">Returns a string with the reason the input failed the validation test.</td></tr>
<tr><td class="left">checkValidity()</td><td class="left">Returns true if the element satisfies all of it's constraints, and false otherwise.</td></tr>
<tr><td class="left">validity</td><td class="left">Returns a ValidityState object representing the validity states of the element.</td></tr>
</tbody>
</table>



</li>
</ul>
<ul>
<li id="sec-8-2-2-3">User Pseudo-class(CSS)<br/>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" />
</colgroup>
<tbody>
<tr><td class="left">Pseudo-class</td><td class="left">Use</td></tr>
<tr><td class="left">:valid</td><td class="left">Explicitly sets the style for an input to be used when the value meets all of the validation requirements.</td></tr>
<tr><td class="left">:invalid</td><td class="left">Explicitly sets the style for an input to be used when the value does not meet all of the validation requirements.</td></tr>
<tr><td class="left">:required</td><td class="left">Explicitly sets the style for an input element that has the required attribute set.</td></tr>
<tr><td class="left">:optional</td><td class="left">Explicitly sets the style for an input element that does not have the required attribute set.</td></tr>
<tr><td class="left">:in-range</td><td class="left">Explicitly sets the style for a number input element where the value is in range.</td></tr>
<tr><td class="left">:out-of-range</td><td class="left">Explicitly sets the style for a number input element where the value is out of range.</td></tr>
</tbody>
</table>



</li>
</ul>
<ul>
<li id="sec-8-2-2-4">Use requestAutocomplete API<br/>



<pre class="src src-html">&lt;<span style="color: #b58900;">form</span> <span style="color: #6c71c4;">method</span>=<span style="color: #2aa198;">"post"</span> <span style="color: #6c71c4;">action</span>=<span style="color: #2aa198;">""</span>&gt;
&lt;<span style="color: #b58900;">label</span> <span style="color: #6c71c4;">for</span>=<span style="color: #2aa198;">"frmNameA"</span>&gt;Name&lt;/<span style="color: #b58900;">label</span>&gt;
&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"text"</span> <span style="color: #6c71c4;">name</span>=<span style="color: #2aa198;">"name"</span> <span style="color: #6c71c4;">id</span>=<span style="color: #2aa198;">"frmName"</span> <span style="color: #6c71c4;">placeholder</span>=<span style="color: #2aa198;">"Full name"</span> required <span style="color: #6c71c4;">autocomplete</span>=<span style="color: #2aa198;">"name"</span>&gt;
&lt;<span style="color: #b58900;">input</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"button"</span> <span style="color: #6c71c4;">onclick</span>=<span style="color: #2aa198;">"doRequestAutocomplete"</span> <span style="color: #6c71c4;">value</span>=<span style="color: #2aa198;">"Autocomplete &amp; submit"</span>&gt;
&lt;/<span style="color: #b58900;">form</span>&gt;
&lt;<span style="color: #b58900;">script</span>&gt;
form.addEventListener(<span style="color: #2aa198;">"autocompleteerror"</span>, requestAutocompleteError); // handle error when autocomplete failed.
form.addEventListener(<span style="color: #2aa198;">"autocomplete"</span>, requestAutocompleteCompleted); // handle autocomplete succeed.
&lt;/<span style="color: #b58900;">script</span>&gt;
</pre>



</li>
</ul>
</div>
</div>

</div>

<div id="outline-container-8-3" class="outline-3">
<h3 id="sec-8-3"><span class="section-number-3">8.3</span> Images</h3>
<div class="outline-text-3" id="text-8-3">



</div>

<div id="outline-container-8-3-1" class="outline-4">
<h4 id="sec-8-3-1"><span class="section-number-4">8.3.1</span> Img</h4>
<div class="outline-text-4" id="text-8-3-1">


<p>
Use max-width to prevent images from overflow.
</p>
<p>
Remember to use relative units when specifying image width.
</p>


<pre class="src src-html">img, embed, object, video {
        max-width: 100%;
}
</pre>


<p>
Replace image with css
</p>


<pre class="src src-html">background: linear-gradient(to right, <span style="color: #ffffff; background-color: #0000FF;">blue</span>, <span style="color: #000000; background-color: #FFFFFF;">white</span>);
background: repeating-linear-gradient(to bottom, <span style="color: #ffffff; background-color: #747474;">#747474</span>, <span style="color: #ffffff; background-color: #747474;">#747474</span> 6px, <span style="color: #000000; background-color: #fff;">#fff</span> 1px, <span style="color: #000000; background-color: #fff;">#fff</span> 9px);
</pre>


<p>
Choose format
</p><ul>
<li id="sec-8-3-1-1">Use JPG for photographic images.<br/>
</li>
</ul>
<ul>
<li id="sec-8-3-1-2">Use SVG for vector art and solid color graphics such as logos and line art. If vector art is unavailable, try WebP or PNG.<br/>
</li>
</ul>
<ul>
<li id="sec-8-3-1-3">Use PNG rather than GIF as it allows for more colors and offers better compression ratios.<br/>
</li>
</ul>
<ul>
<li id="sec-8-3-1-4">For longer animations, consider using &lt;video&gt; which provide better image quality<br/>

</li>
</ul>
</div>

</div>

<div id="outline-container-8-3-2" class="outline-4">
<h4 id="sec-8-3-2"><span class="section-number-4">8.3.2</span> Video</h4>
<div class="outline-text-4" id="text-8-3-2">





<pre class="src src-html"> &lt;<span style="color: #b58900;">video</span> controls&gt;
        &lt;<span style="color: #b58900;">source</span> <span style="color: #6c71c4;">src</span>=<span style="color: #2aa198;">"chrome.webm"</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"video/webm"</span>&gt;
        &lt;<span style="color: #b58900;">source</span> <span style="color: #6c71c4;">src</span>=<span style="color: #2aa198;">"chrome.mp4"</span> <span style="color: #6c71c4;">type</span>=<span style="color: #2aa198;">"video/mp4"</span>&gt;
        &lt;<span style="color: #b58900;">p</span>&gt;This browser does not support the video element.&lt;/<span style="color: #b58900;">p</span>&gt;
&lt;/<span style="color: #b58900;">video</span>&gt;
</pre>



</div>
</div>

</div>

<div id="outline-container-8-4" class="outline-3">
<h3 id="sec-8-4"><span class="section-number-3">8.4</span> Performance</h3>
<div class="outline-text-3" id="text-8-4">



</div>

<div id="outline-container-8-4-1" class="outline-4">
<h4 id="sec-8-4-1"><span class="section-number-4">8.4.1</span> Render page</h4>
<div class="outline-text-4" id="text-8-4-1">


<ul>
<li id="sec-8-4-1-1">Process HTML markup and build the DOM tree<br/>

</li>
</ul>
<ul>
<li id="sec-8-4-1-2">Process CSS markup and build the CSSOM tree<br/>

</li>
</ul>
<ul>
<li id="sec-8-4-1-3">Combine the DOM and CSSOM into a render tree<br/>
Hidden nodes are not included in the render tree.

</li>
</ul>
<ul>
<li id="sec-8-4-1-4">Run layout on the render tree to compute geometry of each node<br/>

</li>
</ul>
<ul>
<li id="sec-8-4-1-5">Paint the individual nodes to the screen<br/>

</li>
</ul>
</div>

</div>

<div id="outline-container-8-4-2" class="outline-4">
<h4 id="sec-8-4-2"><span class="section-number-4">8.4.2</span> Critical path</h4>
<div class="outline-text-4" id="text-8-4-2">


<ul>
<li id="sec-8-4-2-1">HTML<br/>
</li>
</ul>
<ul>
<li id="sec-8-4-2-2">css<br/>
</li>
</ul>
<ul>
<li id="sec-8-4-2-3">none async javascript(block DOM construction)<br/>

</li>
</ul>
</div>

</div>

<div id="outline-container-8-4-3" class="outline-4">
<h4 id="sec-8-4-3"><span class="section-number-4">8.4.3</span> Todos to gain performance</h4>
<div class="outline-text-4" id="text-8-4-3">


<ul>
<li id="sec-8-4-3-1">Its better to divide css into different files for different use.(use media querys)<br/>



<pre class="src src-html">&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"style.css"</span>    <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span>&gt;
&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"style.css"</span>    <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span> <span style="color: #6c71c4;">media</span>=<span style="color: #2aa198;">"screen"</span>&gt;
&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"portrait.css"</span> <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span> <span style="color: #6c71c4;">media</span>=<span style="color: #2aa198;">"orientation:portrait"</span>&gt;
&lt;<span style="color: #b58900;">link</span> <span style="color: #6c71c4;">href</span>=<span style="color: #2aa198;">"print.css"</span>    <span style="color: #6c71c4;">rel</span>=<span style="color: #2aa198;">"stylesheet"</span> <span style="color: #6c71c4;">media</span>=<span style="color: #2aa198;">"print"</span>&gt;
</pre>


</li>
</ul>
<ul>
<li id="sec-8-4-3-2">Its better to mark the javascript as async so that browser does not have to pause the DOM construction.<br/>



<pre class="src src-html">&lt;<span style="color: #b58900;">script</span> <span style="color: #6c71c4;">src</span>=<span style="color: #2aa198;">"app.js"</span> async&gt;&lt;/<span style="color: #b58900;">script</span>&gt;
</pre>



</li>
</ul>
</div>

</div>

<div id="outline-container-8-4-4" class="outline-4">
<h4 id="sec-8-4-4"><span class="section-number-4">8.4.4</span> Event</h4>
<div class="outline-text-4" id="text-8-4-4">

<ul>
<li id="sec-8-4-4-1">domInteractive marks when DOM is ready.<br/>
</li>
</ul>
<ul>
<li id="sec-8-4-4-2">domContentLoaded typically marks when both the DOM and CSSOM are ready.<br/>
</li>
</ul>
<ul>
<li id="sec-8-4-4-3">domComplete marks when the page and all of its subresources are ready.<br/>


</li>
</ul>
</div>
</div>

</div>

<div id="outline-container-8-5" class="outline-3">
<h3 id="sec-8-5"><span class="section-number-3">8.5</span> Caching</h3>
<div class="outline-text-3" id="text-8-5">



</div>

<div id="outline-container-8-5-1" class="outline-4">
<h4 id="sec-8-5-1"><span class="section-number-4">8.5.1</span> ETags</h4>
<div class="outline-text-4" id="text-8-5-1">

<p>When resource max-age has passed, the browser can send the ETags to server to decide if the resource need to reload.
</p>
</div>

</div>

<div id="outline-container-8-5-2" class="outline-4">
<h4 id="sec-8-5-2"><span class="section-number-4">8.5.2</span> Cache-Control</h4>
<div class="outline-text-4" id="text-8-5-2">

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<colgroup><col class="left" /><col class="left" />
</colgroup>
<tbody>
<tr><td class="left">Value</td><td class="left">Meaning</td></tr>
<tr><td class="left">no-cache</td><td class="left">send request everytime with etags. Server will use the etags to decide weather to send the content back or a 304 header.</td></tr>
<tr><td class="left">no-store</td><td class="left">send request everytime. It will get resource everytime from server.</td></tr>
<tr><td class="left">public</td><td class="left">can cached by server side cache like CDN or by user's browser</td></tr>
<tr><td class="left">private</td><td class="left">can cached by user's browser</td></tr>
<tr><td class="left">max-age</td><td class="left">maximum time in seconds that the response is allowed to be resued</td></tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>

<div id="postamble">
<p class="date">Date: 2015-01-05T13:23+0800</p>
<p class="author">Author: Rex.Houy</p>
<p class="creator"><a href="http://orgmode.org">Org</a> version 7.9.3f with <a href="http://www.gnu.org/software/emacs/">Emacs</a> version 24</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>

</div>
</body>
</html>
